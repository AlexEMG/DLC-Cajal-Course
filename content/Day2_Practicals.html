
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Training üèãÔ∏è‚Äç‚ôÄÔ∏è your first DeepLabCut model &#8212; Cajal-DLC-Course</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Overview Day 3" href="Day3_Overview.html" />
    <link rel="prev" title="Lectures: ML and DLC" href="Day2_Lectures.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Cajal-DLC-Course</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../README.html">
                    Modern Methods for Quantifying Behavior
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting Started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="CourseOverviewGuide.html">
   Course Overview
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Software Installation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="installation.html">
   How-To Install DeepLabCut:
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Day 1 - Looking at Behavior
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Day1_Overview.html">
   Overview Day 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Day1_Lectures.html">
   Lectures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Day1_Practicals.html">
   What is behavior and how do we study it üîç?
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Day 2 - DeepLabCut part 1
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Day2_Overview.html">
   Overview Day 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Day2_Lectures.html">
   Lectures: ML and DLC
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Training üèãÔ∏è‚Äç‚ôÄÔ∏è your first DeepLabCut model
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Day 3 - DeepLabCut part 2
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Day3_Overview.html">
   Overview Day 3
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Day3_Lectures.html">
   Lectures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Day3_Practicals.html">
   Improving your first DeepLabCut model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Day3_maPracticals.html">
   Creating your multi-animal pose tracker
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Day3_ModelZoo.html">
   Using the DeepLabCut Model Zoo (30 min)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Day3_DLClive.html">
   Using DLC-live
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Day 4 - Kinematics, actions and clustering
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Day4_Overview.html">
   Overview Day 4
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Day4_Lectures.html">
   Lectures: Biomechanics, Action segmentation and Behavioral Clustering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Day4_Practicals.html">
   Day 4 Practicals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Day4_Moseq.html">
   Behavioral Clustering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Day4_DLC2Action.html">
   Action segmentation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Day4_Kinematics.html">
   Kinematics Analysis
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Day 5 - Let's keep hacking...
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Day5_Overview.html">
   What‚Äôs next?
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Resources
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="DemoDatasets.html">
   Demo Datasets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="FAQ.html">
   FAQ and Common User Hurdles
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Glossary.html">
   Glossary
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Recommended_reading.html">
   Recommended Reading üìö
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/AlexEMG/DLC-Cajal-Course"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/AlexEMG/DLC-Cajal-Course/issues/new?title=Issue%20on%20page%20%2Fcontent/Day2_Practicals.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/content/Day2_Practicals.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-start-15-min">
   How to start? (‚è≥15 min)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#think-about-your-options-and-preferences-5-min">
   Think about your options and preferences (‚è≥5 min)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#deeplabcut-s-data-model-10-min">
   DeepLabCut‚Äôs data model (‚è≥10 min)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#let-s-start">
   üî• Let‚Äôs start‚Ä¶
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-a-project-and-extracting-frames-30-min">
   Creating a project and extracting frames (‚è≥30 min)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#labeling-frames-5-min-multiple-hours">
   Labeling Frames (‚è≥5 min - multiple hours)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#check-the-quality-5-min">
   Check the quality! (‚è≥5 min)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#create-a-training-dataset-and-pick-model-parameters">
   Create a training dataset and pick model parameters
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#training-your-model-1h-longer">
   Training your model (‚è≥1h - longer)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lets-talk">
   Let‚Äôs Talk üì≤
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Training üèãÔ∏è‚Äç‚ôÄÔ∏è your first DeepLabCut model</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-start-15-min">
   How to start? (‚è≥15 min)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#think-about-your-options-and-preferences-5-min">
   Think about your options and preferences (‚è≥5 min)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#deeplabcut-s-data-model-10-min">
   DeepLabCut‚Äôs data model (‚è≥10 min)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#let-s-start">
   üî• Let‚Äôs start‚Ä¶
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-a-project-and-extracting-frames-30-min">
   Creating a project and extracting frames (‚è≥30 min)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#labeling-frames-5-min-multiple-hours">
   Labeling Frames (‚è≥5 min - multiple hours)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#check-the-quality-5-min">
   Check the quality! (‚è≥5 min)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#create-a-training-dataset-and-pick-model-parameters">
   Create a training dataset and pick model parameters
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#training-your-model-1h-longer">
   Training your model (‚è≥1h - longer)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lets-talk">
   Let‚Äôs Talk üì≤
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="training-your-first-deeplabcut-model">
<h1>Training üèãÔ∏è‚Äç‚ôÄÔ∏è your first DeepLabCut model<a class="headerlink" href="#training-your-first-deeplabcut-model" title="Permalink to this headline">#</a></h1>
<p>Let‚Äôs build our first DeepLabCut model ‚ú®!</p>
<section id="how-to-start-15-min">
<h2>How to start? (‚è≥15 min)<a class="headerlink" href="#how-to-start-15-min" title="Permalink to this headline">#</a></h2>
<p>We highly recommend you to read this Protocol first <span id="id1">[<a class="reference internal" href="Recommended_reading.html#id14" title="Tanmay Nath, Alexander Mathis, An Chi Chen, Amir Patel, Matthias Bethge, and Mackenzie Weygandt Mathis. Using DeepLabCut for 3d markerless pose estimation across species and behaviors. Nature Protocols, 14(7):2152‚Äì2176, June 2019. URL: https://rdcu.be/bHpHN, doi:10.1038/s41596-019-0176-0.">NMC+19</a>]</span>. Especially, Stages I-IX.  In the figure below you can see the workflow of DeepLabCut :</p>
 <p align="center">
<img src="https://static1.squarespace.com/static/57f6d51c9f74566f55ecf271/t/5cca272524a69435c3251c40/1556752170424/flowfig.jpg?format=1000w" height="400">
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can either work on your own data, if you want to perform pose estimation or you can use <a class="reference internal" href="DemoDatasets.html"><span class="doc std std-doc">one of the demo datasets</span></a>.</p>
</div>
</section>
<section id="think-about-your-options-and-preferences-5-min">
<h2>Think about your options and preferences (‚è≥5 min)<a class="headerlink" href="#think-about-your-options-and-preferences-5-min" title="Permalink to this headline">#</a></h2>
<p>The TAs can introduce you to a few different options as well as their merits.</p>
<ul class="simple">
<li><p>Do you plan to run DLC on the CPU or do you have access to GPUs?</p>
<ul>
<li><p>Training and evaluating DLC models on the CPU will be much slower, but it can be useful to test things locally</p></li>
<li><p>There are a few options to use GPUs for training and inference:</p>
<ul>
<li><p>You may have a decent GPU in your laptop üíª, or</p></li>
<li><p>You may have access to a workstation üöß in the lab with GPUs, or</p></li>
<li><p>You may consider using GPUs in the cloud, for example with a <a class="reference external" href="https://github.com/DeepLabCut/DeepLabCut/tree/master/examples#demo-jupyter--colaboratory-notebooks">Colab notebook</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p>Are you comfortable with Python üêç scripting or would you prefer to use the GUI?</p>
<ul>
<li><p>The <a class="reference external" href="https://deeplabcut.github.io/DeepLabCut/docs/standardDeepLabCut_UserGuide.html#deeplabcut-project-manager-gui-recommended-for-beginners">DLC GUI</a> provides a user-friendly interface that guides you through the model building process</p></li>
<li><p>Alternatively you can the Python API, which provides high-level well-documented Python functions for each of the model building steps</p>
<ul>
<li><p>You can use Python scripting interactively in the Terminal (via <code class="docutils literal notranslate"><span class="pre">ipython</span></code>), or you can use them to write your own script</p></li>
<li><p>If you plan to use GPU power via the <a class="reference external" href="https://github.com/DeepLabCut/DeepLabCut/tree/master/examples#demo-jupyter--colaboratory-notebooks">Colab notebook</a>, you will need to use the Python API</p></li>
<li><p>See <a class="reference external" href="https://deeplabcut.github.io/DeepLabCut/docs/standardDeepLabCut_UserGuide.html#deeplabcut-in-the-terminal">DeepLabCut in the Terminal</a> for a step-by-step guide üó∫</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="deeplabcut-s-data-model-10-min">
<h2>DeepLabCut‚Äôs data model (‚è≥10 min)<a class="headerlink" href="#deeplabcut-s-data-model-10-min" title="Permalink to this headline">#</a></h2>
<p>Machine Learning projects rely on training data and create neural network weights that you want to use for analyzing your data.</p>
<p>Thus, for a given project you want to have a <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">structure</span></code> on your computer that keeps track of configuration files, training data and neural network weights. This is what DeepLabCut‚Äôs data model addresses. A <code class="docutils literal notranslate"><span class="pre">project</span></code> is one folder üìÇ (per project) that stores all those components in an organized fashion. A project directory has subdirectories: dlc-models, labeled-data, training-datasets, and videos.</p>
<p>You can even share these projects with others, and use them on different platforms. This comes in handy, as you may want to annotate with the GUI on your laptop, but then train üèãÔ∏è‚Äç‚ôÄÔ∏è your model on a computer with a GPU (or on COLAB). Once you have a useful model, you can also share the project with others, or just export the neural network weights!</p>
<p>So let‚Äôs create our first project‚Ä¶ and start labeling üéâüéâ!</p>
</section>
<section id="let-s-start">
<h2>üî• Let‚Äôs start‚Ä¶<a class="headerlink" href="#let-s-start" title="Permalink to this headline">#</a></h2>
<p>The following summarises DeepLabCut‚Äôs single animal workflow. If your dataset involves multiple animals that look the same, please consult the <a href="https://deeplabcut.github.io/DeepLabCut/docs/maDLC_UserGuide.html#multi-animal-userguide" target="_blank">maDLC user guide</a> (however, be warned the workflow is more involved, as it adds additional steps; for educational purposes you could focus on a single animal project first, if you have never used DeepLabCut).</p>
<p>If you wish to use the Project Manager GUI (recommended for beginners), you can check out <a href="https://deeplabcut.github.io/DeepLabCut/docs/PROJECT_GUI.html" target="_blank">this guidance and video demos</a>.</p>
</section>
<section id="creating-a-project-and-extracting-frames-30-min">
<h2>Creating a project and extracting frames (‚è≥30 min)<a class="headerlink" href="#creating-a-project-and-extracting-frames-30-min" title="Permalink to this headline">#</a></h2>
<p>The function <code class="docutils literal notranslate"><span class="pre">create_new_project</span></code> creates a new project directory, required subdirectories, and a basic project configuration file. Check <a href="https://deeplabcut.github.io/DeepLabCut/docs/standardDeepLabCut_UserGuide.html#a-create-a-new-project" target="_blank">DeepLabCut‚Äôs documentation</a> for details.</p>
<pre lang="python">deeplabcut.create_new_project('Name of the project', 'Name of the experimenter', ['Full path of video 1', 'Full path of video2', 'Full path of video3'], working_directory='Full path of the working directory', copy_videos=True/False, multianimal=True/False)</pre>
<p><a class="reference external" href="https://youtu.be/KcXogR-p5Ak?t=32">GUI project creation</a></p>
<p>Next, open the <strong>config.yaml</strong> file from your project directory. Familiarise yourself with the <a href="https://static1.squarespace.com/static/57f6d51c9f74566f55ecf271/t/5c40f4124d7a9c0b2ce651c1/1547760716298/Box1-01.png?format=1000w" target="_blank">meaning of the parameters</a>. You <strong>must add the list of bodyparts (or points of interest)</strong> that you want to track. Do not have spaces in the names of bodyparts!</p>
<p>The function <code class="docutils literal notranslate"><span class="pre">extract_frames</span></code> extracts frames from all the videos in the project configuration file in order to create a training dataset. Have a look at the <a href="https://deeplabcut.github.io/DeepLabCut/docs/standardDeepLabCut_UserGuide.html#c-data-selection-extract-frames" target="_blank">DeepLabCut documentation</a> to decide:</p>
<ul class="simple">
<li><p>how many frames to extract,</p></li>
<li><p>how to choose the frame extraction method that best suits your data,</p></li>
<li><p>how to control which videos to extract frames from,</p></li>
<li><p>whether to crop videos.</p></li>
</ul>
<pre lang="python">deeplabcut.extract_frames(config_path, mode='automatic/manual', algo='uniform/kmeans', userfeedback=False, crop=True/False)</pre>
<p><a class="reference external" href="https://youtu.be/KcXogR-p5Ak?t=87">GUI frame extraction</a></p>
</section>
<section id="labeling-frames-5-min-multiple-hours">
<h2>Labeling Frames (‚è≥5 min - multiple hours)<a class="headerlink" href="#labeling-frames-5-min-multiple-hours" title="Permalink to this headline">#</a></h2>
<p>The function <code class="docutils literal notranslate"><span class="pre">label_frames</span></code> helps the user easily label all the extracted frames using an interactive graphical user interface (GUI). Check <a href="https://deeplabcut.github.io/DeepLabCut/docs/standardDeepLabCut_UserGuide.html#d-label-frames" target="_blank">the documentation</a> for pointers on how to use GUI.</p>
<pre lang="python">deeplabcut.label_frames(config_path)</pre>
<p><a class="reference external" href="https://youtu.be/KcXogR-p5Ak?t=111">GUI frame labelling</a></p>
</section>
<section id="check-the-quality-5-min">
<h2>Check the quality! (‚è≥5 min)<a class="headerlink" href="#check-the-quality-5-min" title="Permalink to this headline">#</a></h2>
<p>The function <code class="docutils literal notranslate"><span class="pre">check_labels</span></code> allows the user to check if the labels were created and stored correctly. For more information, including on what to do if you discover labeling errors, check the <a href="https://deeplabcut.github.io/DeepLabCut/docs/standardDeepLabCut_UserGuide.html#e-check-annotated-frames" target="_blank">DLC docs</a>!</p>
<pre lang="python">deeplabcut.check_labels(config_path, visualizeindividuals=True/False)</pre>
</section>
<section id="create-a-training-dataset-and-pick-model-parameters">
<h2>Create a training dataset and pick model parameters<a class="headerlink" href="#create-a-training-dataset-and-pick-model-parameters" title="Permalink to this headline">#</a></h2>
<p>You should continue on the machine/platform <strong>where</strong> you are going to train the network. You might have to edit your configuration file, so read <a href="https://deeplabcut.github.io/DeepLabCut/docs/standardDeepLabCut_UserGuide.html#f-create-training-dataset-s" target="_blank">the DeepLabCut documentation</a> carefully to make sure you are ready to proceed.</p>
<p><a class="reference external" href="https://youtu.be/KcXogR-p5Ak?t=160">GUI creating training dataset</a></p>
<p>The function <code class="docutils literal notranslate"><span class="pre">create_training_dataset</span></code> combines the labeled datasets from all the videos and splits them to create train and test datasets. Check <a href="https://deeplabcut.github.io/DeepLabCut/docs/standardDeepLabCut_UserGuide.html#f-create-training-dataset-s" target="_blank">the documentation</a> to learn how to choose the most suitable pre-trained network and data augmentation method for your project.</p>
</section>
<section id="training-your-model-1h-longer">
<h2>Training your model (‚è≥1h - longer)<a class="headerlink" href="#training-your-model-1h-longer" title="Permalink to this headline">#</a></h2>
<p>The function <code class="docutils literal notranslate"><span class="pre">train_network</span></code> helps the user in training the network, using the parameters set in the <strong>pose_cfg.yaml</strong> file. Familiarise yourself with <a href="https://images.squarespace-cdn.com/content/v1/57f6d51c9f74566f55ecf271/1570325287859-NHCTKWOFWPVWLH8B79PS/ke17ZwdGBToddI8pDm48kApwhYXjNb7J-ZG10ZuuPUJ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0uRNgJXBmK_J7vOfsoUyYccR03UZyExumRKzyR7hPRvjPGikK2uEIM-3GOD5thTJoQ/Box2-01.png?format=1000w" target="_blank">the meaning of those parameters</a> and check <a href="https://deeplabcut.github.io/DeepLabCut/docs/standardDeepLabCut_UserGuide.html#g-train-the-network" target="_blank">the DLC documentation</a> to learn:</p>
<ul class="simple">
<li><p>how many iterations to train your model for,</p></li>
<li><p>how often to store weights and display loss,</p></li>
<li><p>how to restart training at a specific checkpoint.</p></li>
</ul>
<p><a class="reference external" href="https://youtu.be/WXCVr6xAcCA?t=58">GUI train network</a></p>
</section>
<section id="lets-talk">
<h2>Let‚Äôs Talk üì≤<a class="headerlink" href="#lets-talk" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>What parameters should be picked?</p>
<ul>
<li><p>for the most part the defaults are generalist parameters and will give you good performance</p></li>
<li><p>for some cases you can get better performance, which is best seen on videos/out-of-domain data. This is well illustrated in this <a class="reference external" href="https://deeplabcut.github.io/DeepLabCut/docs/recipes/flip_and_rotate.html">recipe for bats by Jonas H√•kansson (one of our TAs)</a>.</p></li>
<li><p>You can also check out <a class="reference external" href="https://www.cell.com/neuron/fulltext/S0896-6273(20)30717-0">Figure 8 in the Neuron Primer</a> and this <a class="reference external" href="https://www.cell.com/cms/10.1016/j.neuron.2020.09.017/attachment/46e265f6-9ff2-4f64-9116-b8cc9c958fc4/mmc1">video</a>, which compares different data augmentation methods on the same training set (this was also mentioned in the lecture today).</p></li>
</ul>
</li>
<li><p>How much data should you label?</p></li>
<li><p>What should you consider when picking your neural network backbone?
‚Äì Check out this <a class="reference external" href="https://deeplabcut.github.io/DeepLabCut/docs/recipes/nn.html">recipe</a>.</p></li>
</ul>
<p>#References</p>
<div class="docutils container" id="id2">
<dl class="citation">
<dt class="label" id="id7"><span class="brackets">NMC+19</span></dt>
<dd><p>Tanmay Nath, Alexander Mathis, An¬†Chi Chen, Amir Patel, Matthias Bethge, and Mackenzie¬†Weygandt Mathis. Using DeepLabCut for 3d markerless pose estimation across species and behaviors. <em>Nature Protocols</em>, 14(7):2152‚Äì2176, June 2019. URL: <a class="reference external" href="https://rdcu.be/bHpHN">https://rdcu.be/bHpHN</a>, <a class="reference external" href="https://doi.org/10.1038/s41596-019-0176-0">doi:10.1038/s41596-019-0176-0</a>.</p>
</dd>
</dl>
</div>
<p><a class="reference internal" href="../README.html"><span class="doc std std-doc">Let‚Äôs go back üîô</span></a>.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="Day2_Lectures.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Lectures: ML and DLC</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Day3_Overview.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Overview Day 3</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By The DeepLabCut Team<br/>
  
      &copy; Copyright 2022.<br/>
    <div class="extra_footer">
      <div>Powered by <a href="https://jupyterbook.org/">Jupyter Book</a>.</div>

    </div>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>